<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>IntuiciÃ³n XAUUSD Â· IA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://s3.tradingview.com/tv.js"></script>

<style>
body{
  margin:0;
  background:#0f1220;
  font-family:Arial, sans-serif;
  color:#fff;
}
.app{padding:10px;}
.card{
  background:linear-gradient(180deg,#141a33,#0d1225);
  border-radius:18px;
  padding:15px;
  margin-bottom:15px;
  box-shadow:0 10px 25px rgba(0,0,0,.4);
}
h3{text-align:center;color:#27e8ff;margin:0 0 12px;}
#tvchart{height:320px;border-radius:16px;overflow:hidden;}
.btn{
  width:100%;padding:14px;font-size:16px;
  border:none;border-radius:14px;
  margin-bottom:10px;font-weight:bold;cursor:pointer;
}
.buy{background:#00c853;color:#000;}
.sell{background:#ff5252;color:#000;}
.close{background:#ffd600;color:#000;}
.positive{background:#00e676;color:#000;}
.negative{background:#ff1744;color:#000;}
.semaforo{display:flex;justify-content:center;gap:18px;margin:15px 0;}
.luz{
  width:18px;height:18px;border-radius:50%;
  background:#333;
}
.verde.on{background:#00e676;box-shadow:0 0 10px #00e676;}
.amarillo.on{background:#ffd600;box-shadow:0 0 10px #ffd600;}
.rojo.on{background:#ff1744;box-shadow:0 0 10px #ff1744;}
.text{font-size:14px;margin:6px 0;}
.big{font-size:20px;font-weight:bold;color:#27e8ff;}
hr{border:0;border-top:1px solid #333;margin:10px 0;}
</style>
</head>

<body>
<div class="app">

  <!-- GRÃFICA -->
  <div class="card">
    <div id="tvchart"></div>
  </div>

  <!-- CONTROL OPERACIÃ“N -->
  <div class="card">
    <h3>ğŸ§  Control de OperaciÃ³n</h3>

    <button class="btn buy" onclick="entrarCompra()">EntrÃ© en COMPRA</button>
    <button class="btn sell" onclick="entrarVenta()">EntrÃ© en VENTA</button>
    <button class="btn close" onclick="finalizar()">Finalizar operaciÃ³n</button>

    <div class="semaforo">
      <div id="verde" class="luz verde"></div>
      <div id="amarillo" class="luz amarillo"></div>
      <div id="rojo" class="luz rojo"></div>
    </div>

    <button class="btn positive" onclick="resultado(true)">Resultado POSITIVO</button>
    <button class="btn negative" onclick="resultado(false)">Resultado NEGATIVO</button>

    <div class="text">Estado: <b id="estado">Esperando entradaâ€¦</b></div>
  </div>

  <!-- ESTADO APP -->
  <div class="card">
    <h3>âš™ï¸ Estado del Aplicativo</h3>
    <div class="text">Â¿El aplicativo va lento?</div>
    <button class="btn negative" onclick="setEstadoApp(true)">SÃ­, va lento</button>
    <button class="btn positive" onclick="setEstadoApp(false)">No, todo va bien</button>
    <div class="text">Modo: <b id="estadoApp" class="big">NORMAL</b></div>
  </div>

  <!-- INTUICIÃ“N IA -->
  <div class="card">
    <h3>ğŸ“Š IntuiciÃ³n IA Â· Comparativa</h3>

    <div class="text">DirecciÃ³n probable:
      <span class="big" id="dirPred">ALCISTA ğŸ“ˆ</span>
    </div>

    <hr>

    <div class="text">
      ğŸŸ¢ Alcista â†’ Fuerza <b id="fAlc">72%</b> |
      Impulso <b id="iAlc">Alto</b> |
      Tiempo <b id="tAlc">8 min</b>
    </div>

    <div class="text">
      ğŸ”´ Bajista â†’ Fuerza <b id="fBaj">28%</b> |
      Impulso <b id="iBaj">DÃ©bil</b> |
      Tiempo <b id="tBaj">5 min</b>
    </div>

    <div class="text">
      Sesgo IA:
      <span class="big" id="sesgo">ContinuaciÃ³n alcista</span>
    </div>
  </div>

  <!-- PRÃ“XIMA ENTRADA -->
  <div class="card">
    <h3>ğŸ“ˆ PrÃ³xima Entrada Â· ProyecciÃ³n</h3>

    <div class="text">
      Probabilidad ganadora:
      <span class="big" id="prob">68%</span>
    </div>

    <div class="text">
      Escenario ALZA â†’ Ganancia <b id="gAlza">+1.8%</b> | Riesgo <b id="rAlza">0.6%</b>
    </div>

    <div class="text">
      Escenario BAJA â†’ Ganancia <b id="gBaja">+1.2%</b> | Riesgo <b id="rBaja">0.9%</b>
    </div>

    <div class="text">
      RecomendaciÃ³n:
      <span class="big" id="rec">Esperar confirmaciÃ³n</span>
    </div>
  </div>

</div>

<script>
// TradingView
new TradingView.widget({
  autosize:true,
  symbol:"OANDA:XAUUSD",
  interval:"5",
  theme:"dark",
  locale:"es",
  container_id:"tvchart"
});

let modoOptimizado=false;

function resetLuces(){
  document.querySelectorAll('.luz').forEach(l=>l.classList.remove('on'));
}

function entrarCompra(){
  resetLuces();
  verde.classList.add('on');
  estado.innerText="COMPRA activa";
}

function entrarVenta(){
  resetLuces();
  rojo.classList.add('on');
  estado.innerText="VENTA activa";
}

function finalizar(){
  resetLuces();
  amarillo.classList.add('on');
  estado.innerText="OperaciÃ³n finalizada";
}

function resultado(win){
  estado.innerText = win ? "Resultado POSITIVO âœ…" : "Resultado NEGATIVO âŒ";
  actualizarIA();
}

function setEstadoApp(lento){
  modoOptimizado=lento;
  estadoApp.innerText = lento ? "OPTIMIZADO" : "NORMAL";
}

function actualizarIA(){
  let alc = Math.floor(Math.random()*20)+60;
  let baj = 100-alc;

  fAlc.innerText=alc+"%";
  fBaj.innerText=baj+"%";

  iAlc.innerText=alc>70?"Alto":"Medio";
  iBaj.innerText=baj>40?"Medio":"DÃ©bil";

  tAlc.innerText=(modoOptimizado?5:8)+" min";
  tBaj.innerText=(modoOptimizado?4:6)+" min";

  if(alc>baj){
    dirPred.innerText="ALCISTA ğŸ“ˆ";
    sesgo.innerText="ContinuaciÃ³n alcista";
    rec.innerText="Buscar COMPRA";
  }else{
    dirPred.innerText="BAJISTA ğŸ“‰";
    sesgo.innerText="ContinuaciÃ³n bajista";
    rec.innerText="Buscar VENTA";
  }

  prob.innerText=(Math.floor(Math.random()*15)+60)+"%";
  gAlza.innerText="+"+(Math.random()*2+1).toFixed(2)+"%";
  rAlza.innerText=(Math.random()*0.8+0.3).toFixed(2)+"%";
  gBaja.innerText="+"+(Math.random()*2+0.8).toFixed(2)+"%";
  rBaja.innerText=(Math.random()*1+0.4).toFixed(2)+"%";
}

actualizarIA();
</script>
</body>
</html>
