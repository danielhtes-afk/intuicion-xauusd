<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Intuici√≥n XAUUSD ¬∑ IA Copiloto</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://s3.tradingview.com/tv.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f1220;
  color:#fff;
}

.dashboard{
  display:grid;
  grid-template-columns:380px 1fr;
  grid-template-rows:auto auto;
  gap:10px;
  padding:10px;
}

.panel{
  background:#151933;
  border-radius:10px;
  padding:12px;
  box-shadow:0 0 10px rgba(0,0,0,.4);
}

h3{
  margin:0 0 8px 0;
  font-size:15px;
  color:#4fc3f7;
}

.value{
  font-size:14px;
  margin:5px 0;
}

.badge{
  padding:3px 8px;
  border-radius:6px;
  font-size:12px;
}

.up{background:#2ecc71;}
.down{background:#e74c3c;}
.neutral{background:#7f8c8d;}

#chart{
  height:420px;
}

.bottom{
  grid-column:1 / 3;
}

/* Sem√°foro */
.semaforo{
  width:60px;
  height:60px;
  border-radius:50%;
  margin:10px auto;
  background:#7f8c8d;
}

.semaforo.verde{background:#2ecc71; box-shadow:0 0 20px #2ecc71;}
.semaforo.amarillo{background:#f1c40f; box-shadow:0 0 20px #f1c40f;}
.semaforo.rojo{background:#e74c3c; box-shadow:0 0 20px #e74c3c;}

select{
  background:#0f1220;
  color:#fff;
  border:1px solid #4fc3f7;
  border-radius:6px;
  padding:4px;
}
</style>
</head>

<body>

<div class="dashboard">

  <!-- PANEL IA -->
  <div class="panel">
    <h3>üß† Intuici√≥n de la IA</h3>

    <div class="value">Direcci√≥n:
      <span id="ia-direction" class="badge neutral">‚Äî</span>
    </div>
    <div class="value">Fuerza: <span id="ia-force">‚Äî</span></div>
    <div class="value">Tiempo estimado: <span id="ia-time">‚Äî</span></div>
    <div class="value">Sugerencia: <span id="ia-suggestion">Esperando mercado</span></div>

    <h3 style="margin-top:12px;">üö¶ Sem√°foro</h3>
    <div id="semaforo" class="semaforo"></div>
    <div class="value" id="semaforo-texto">Esperando confirmaci√≥n</div>

    <h3 style="margin-top:12px;">‚è± Multi-Timeframe</h3>
    <div class="value">
      Ejecuci√≥n:
      <select id="tf-select" onchange="actualizarIA()">
        <option value="5">5m</option>
        <option value="15">15m</option>
        <option value="60">1h</option>
      </select>
    </div>

    <div class="value">5m: <span id="tf-5" class="badge neutral">‚Äî</span></div>
    <div class="value">15m: <span id="tf-15" class="badge neutral">‚Äî</span></div>
    <div class="value">1h: <span id="tf-60" class="badge neutral">‚Äî</span></div>
  </div>

  <!-- GR√ÅFICA -->
  <div class="panel">
    <div id="chart"></div>
  </div>

  <!-- COMPARATIVO -->
  <div class="panel">
    <h3>üìä Cuadro Comparativo</h3>
    <div class="value">Sesgo IA: Multi-timeframe</div>
    <div class="value">Regla: 1H manda ¬∑ 15M confirma ¬∑ 5M ejecuta</div>
    <div class="value">Condici√≥n ideal: Alineaci√≥n total</div>
    <div class="value">Riesgo: Operar contra 1H</div>
  </div>

  <!-- CONTROL -->
  <div class="panel bottom">
    <h3>üéØ Control de Operaci√≥n</h3>
    <div class="value">Estado: Esperando se√±al v√°lida</div>
    <div class="value">Disciplina > Impulso</div>
  </div>

</div>

<script>
new TradingView.widget({
  container_id:"chart",
  symbol:"XAUUSD",
  interval:"5",
  timezone:"Etc/UTC",
  theme:"dark",
  style:"1",
  locale:"es",
  toolbar_bg:"#151933",
  autosize:true
});

// -------- IA --------
function analizarTF(){
  const rsi = Math.random()*100;
  const ema = (Math.random()*2)-1;
  if(ema>0.3 && rsi>55) return "ALZA";
  if(ema<-0.3 && rsi<45) return "BAJA";
  return "NEUTRO";
}

function pintarBadge(id, estado){
  const el=document.getElementById(id);
  el.textContent=estado;
  el.className="badge "+(estado==="ALZA"?"up":estado==="BAJA"?"down":"neutral");
}

function actualizarIA(){
  const tf5=analizarTF();
  const tf15=analizarTF();
  const tf60=analizarTF();

  pintarBadge("tf-5",tf5);
  pintarBadge("tf-15",tf15);
  pintarBadge("tf-60",tf60);

  let direccion="ESPERAR", fuerza="Baja", tiempo="‚Äî",
      sugerencia="Sin alineaci√≥n",
      sem="amarillo", semTxt="Esperar";

  if(tf5===tf15 && tf15===tf60 && tf5!=="NEUTRO"){
    direccion=tf5;
    fuerza="Alta";
    tiempo="15‚Äì30 min";
    sugerencia="Alineaci√≥n total ‚Äì buscar entrada";
    sem="verde";
    semTxt="Condiciones √≥ptimas";
  }else if(tf60!=="NEUTRO" && tf5!==tf60){
    direccion="RIESGO";
    fuerza="Alta";
    sugerencia="Contra tendencia mayor";
    sem="rojo";
    semTxt="NO operar";
  }

  document.getElementById("ia-direction").textContent=direccion;
  document.getElementById("ia-direction").className="badge "+
    (direccion==="ALZA"?"up":direccion==="BAJA"?"down":"neutral");
  document.getElementById("ia-force").textContent=fuerza;
  document.getElementById("ia-time").textContent=tiempo;
  document.getElementById("ia-suggestion").textContent=sugerencia;

  document.getElementById("semaforo").className="semaforo "+sem;
  document.getElementById("semaforo-texto").textContent=semTxt;
}

setInterval(actualizarIA,12000);
actualizarIA();
</script>

</body>
</html>
