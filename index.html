<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>IntuiciÃ³n XAUUSD Â· IA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://s3.tradingview.com/tv.js"></script>

<style>
body{margin:0;background:#0f1220;font-family:Arial;color:#fff}
.app{padding:10px}
.card{
  background:linear-gradient(180deg,#141a33,#0d1225);
  border-radius:18px;padding:15px;margin-bottom:15px;
  box-shadow:0 10px 25px rgba(0,0,0,.4)
}
h3{text-align:center;color:#27e8ff;margin:0 0 10px}
#tvchart{height:320px;border-radius:16px;overflow:hidden}
.btn{
  width:100%;padding:14px;font-size:16px;
  border:none;border-radius:14px;margin-bottom:10px;
  font-weight:bold;cursor:pointer
}
.buy{background:#00c853;color:#000}
.sell{background:#ff5252;color:#000}
.close{background:#ffd600;color:#000}
.positive{background:#00e676;color:#000}
.negative{background:#ff1744;color:#000}
.semaforo{display:flex;justify-content:center;gap:18px;margin:10px 0}
.luz{width:18px;height:18px;border-radius:50%;background:#333}
.verde.on{background:#00e676;box-shadow:0 0 10px #00e676}
.amarillo.on{background:#ffd600;box-shadow:0 0 10px #ffd600}
.rojo.on{background:#ff1744;box-shadow:0 0 10px #ff1744}
.text{font-size:14px;margin:6px 0}
.big{font-size:18px;font-weight:bold;color:#27e8ff}
hr{border:0;border-top:1px solid #333;margin:10px 0}
</style>
</head>

<body>
<div class="app">

<!-- GRÃFICA -->
<div class="card"><div id="tvchart"></div></div>

<!-- POSIBLE ENTRADA -->
<div class="card">
<h3>ðŸŽ¯ Posible Entrada</h3>
<div class="text">DirecciÃ³n sugerida: <b id="entradaDir">â€”</b></div>
<div class="text">Probabilidad: <b id="entradaProb">â€”</b></div>
<div class="text">Estado: <b id="entradaEstado">â€”</b></div>
</div>

<!-- CONTROL -->
<div class="card">
<h3>ðŸ§  Control de OperaciÃ³n</h3>
<button class="btn buy" onclick="entrar('BUY')">EntrÃ© en COMPRA</button>
<button class="btn sell" onclick="entrar('SELL')">EntrÃ© en VENTA</button>
<button class="btn close" onclick="finalizar()">Finalizar</button>

<div class="semaforo">
<div id="verde" class="luz verde"></div>
<div id="amarillo" class="luz amarillo"></div>
<div id="rojo" class="luz rojo"></div>
</div>

<button class="btn positive" onclick="resultado(true)">Resultado POSITIVO</button>
<button class="btn negative" onclick="resultado(false)">Resultado NEGATIVO</button>
<div class="text">Estado: <b id="estado">Esperandoâ€¦</b></div>
</div>

<!-- ESTADÃSTICAS -->
<div class="card">
<h3>ðŸ“Š EstadÃ­sticas IA</h3>
<div class="text">Total operaciones: <b id="sTotal">0</b></div>
<div class="text">Acierto global: <b id="sGlobal">0%</b></div>
<div class="text">Compra: <b id="sBuy">0%</b></div>
<div class="text">Venta: <b id="sSell">0%</b></div>
<div class="text">RecomendaciÃ³n: <span class="big" id="sReco">â€”</span></div>
</div>

<!-- INTUICIÃ“N MULTI TF -->
<div class="card">
<h3>ðŸ§­ IntuiciÃ³n IA Â· Estructura</h3>
<div class="text">1m â†’ <b id="tf1">â€”</b></div>
<div class="text">5m â†’ <b id="tf5">â€”</b></div>
<div class="text">15m â†’ <b id="tf15">â€”</b></div>
</div>

</div>

<script>
new TradingView.widget({
  autosize:true,
  symbol:"OANDA:XAUUSD",
  interval:"5",
  theme:"dark",
  locale:"es",
  container_id:"tvchart"
});

let stats={t:0,w:0,bw:0,bt:0,sw:0,st:0}
let actual=null

function luces(v,a,r){
  verde.classList.toggle("on",v)
  amarillo.classList.toggle("on",a)
  rojo.classList.toggle("on",r)
}

function entrar(dir){
  actual=dir
  estado.innerText=dir+" activa"
  luces(true,false,false)
}

function finalizar(){
  luces(false,true,false)
  estado.innerText="Posible salida"
}

function resultado(win){
  if(!actual) return
  stats.t++
  if(actual==="BUY"){stats.bt++; if(win)stats.bw++}
  if(actual==="SELL"){stats.st++; if(win)stats.sw++}
  if(win)stats.w++
  actualizar()
}

function actualizar(){
  let pg=stats.t?Math.round(stats.w/stats.t*100):50
  let pb=stats.bt?Math.round(stats.bw/stats.bt*100):50
  let ps=stats.st?Math.round(stats.sw/stats.st*100):50

  sTotal.innerText=stats.t
  sGlobal.innerText=pg+"%"
  sBuy.innerText=pb+"%"
  sSell.innerText=ps+"%"

  let dir=pb>ps?"COMPRA":"VENTA"
  let prob=Math.max(pb,ps)

  entradaDir.innerText=dir
  entradaProb.innerText=prob+"%"
  entradaEstado.innerText=prob>65?"ðŸŸ¢ Apta":prob>55?"ðŸŸ¡ Esperar":"ðŸ”´ No entrar"

  sReco.innerText=prob>60?"ENTRAR":"NO ENTRAR"

  if(prob<55) luces(false,false,true)
  else if(prob<65) luces(false,true,false)
  else luces(true,false,false)

  tf1.innerText=(Math.random()>0.5?"ALZA":"BAJA")+" "+Math.round(prob-5)+"%"
  tf5.innerText=(Math.random()>0.5?"ALZA":"BAJA")+" "+prob+"%"
  tf15.innerText=(Math.random()>0.5?"ALZA":"BAJA")+" "+Math.round(prob-10)+"%"
}

actualizar()
</script>
</body>
</html>
